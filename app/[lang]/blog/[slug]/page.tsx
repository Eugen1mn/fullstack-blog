import './post.scss';

import { i18n } from '@/i18n.config';
import { notFound } from 'next/navigation';
import type { Metadata } from 'next';

import { BlogSidebar, PostHero, PostContent } from '@/app/components';

import { BudgetLeadFormContainer } from '@/app/containers';

import { BlogPost } from '@/app/interfaces/post';

type Props = {
  params: {
    lang: 'en' | 'uk' | 'de' | 'pl' | 'it' | 'es' | 'ru';
    slug: string;
  };
};

const blogCards: BlogPost[] = [
  {
    id: 1,
    image: '/images/blog/seo-promotion.webp',
    imageAlt: 'Етапи просування сайту',
    title: 'ЕТАПИ ПРОСУВАННЯ САЙТУ',
    description:
      'У цій статті ми хочемо максимально описати весь процес пошукового просування. Ми...',
    tags: ['AI', 'Чеклісти', 'апдейти'],
    author: {
      name: 'Іванина Роман',
      avatar: '/images/blog/avatar.png',
    },
    date: '21 листопада 2025',
    readTime: '10 хвилин',
    views: 9394,
    href: '/blog/etapy-prosuvannya-saitu',
    content: [
      {
        type: 'image',
        src: '/images/blog/seo-promotion.webp',
        alt: 'Етапи просування сайту',
      },

      {
        type: 'paragraph',
        text: 'Ми склали повний список усіх запланованих робіт з моменту отримання заявки від клієнта, де детально розповімо про кожен з етапів розкрутки інтернет-ресурсу.',
      },

      {
        type: 'heading',
        level: 2,
        text: 'Що таке SEO',
        anchor: 'sho-take-seo',
      },

      {
        type: 'paragraph',
        text: 'SEO-просування сайту — це процес, робота над яким допомагає ресурсу займати вищі позиції в пошуку. Простіше кажучи, це спосіб зробити так, щоб люди швидше знаходили ваш сайт, коли шукають потрібну їм інформацію. Усі роботи займають час і потребують системного підходу. Важливими є регулярність контролю та вміння адаптуватися під зміни алгоритмів. Щоб підвищити видимість сайту в пошукових системах, покращують тексти, структуру сторінок і швидкість завантаження, а також роблять ресурс зручним для користувачів і пошукових роботів.',
      },
      {
        type: 'paragraph',
        text: `Результати такої роботи не з'являються миттєво. Але вже через кілька місяців можна помітити зростання позицій і стабільний приплив трафіку. А головне, що ефект зберігається надовго, особливо, якщо ви продовжуєте розвивати сайт. Отже, пошукова оптимізація — це інвестиція, яка повертається у вигляді постійного збільшення кількості клієнтів і бізнесу в цілому.`,
      },

      {
        type: 'heading',
        level: 2,
        text: 'Коли необхідно SEO',
        anchor: 'koli-neobhidno-seo',
      },

      {
        type: 'paragraph',
        text: 'Роботи з сео зазвичай запускають, коли хочуть отримувати вимірні результати: клієнтів, замовлення, прибуток. Але при цьому важливо чітко ставити цілі перед фахівцями. На те, що настав час пошукової оптимізації, вказують такі показники:',
      },

      {
        type: 'list',
        style: 'confirm',
        items: [
          'невисока видимість сайту у пошуку;',
          'побудувати сайт під реальні пошукові запити;',
          'швидше отримати результат;',
          'Фахівці Elit-Web повністю заглиблюються у проєкт, вивчають особливості бізнесу, цільову аудиторію, конкурентів і ринок. Такий глибокий аналіз дозволяє розробити індивідуальну стратегію пошукового просування, що максимально відповідає потребам. І це гарантія того, що зусилля та кошти будуть спрямовані на найрезультативніші канали, до того ж без зайвих витрат.',
        ],
      },

      {
        type: 'paragraph',
        text: 'Якщо ви налаштовані відстежувати реальні бізнес-показники і хочете розвивати сайт заради прибутку, SEO — це ваш шлях. Починайте якомога раніше, ставте чіткі цілі й обирайте тих, хто готовий думати разом із вами про результат.',
      },

      {
        type: 'heading',
        level: 2,
        text: 'Аналіз тематики сайту та конкурентів',
        anchor: 'koli-neobhidno-seo',
      },

      {
        type: 'paragraph',
        text: 'Роботи над кожним проектом починаються зі збору та аналізу даних. Це необхідно, щоб визначити фактори зростання в ніші та виділити ключові напрямки розвитку інтернет-ресурсу.',
      },

      {
        type: 'paragraph',
        text: `Цей етап просування завжди варто починати з конкурентного аналізу: визначити головні конкурентні ресурси, з'ясувати їхню стратегію та сформувати власну.`,
      },

      {
        type: 'paragraph',
        text: `Спочатку складається перелік основних конкурентів. Після цього аналізують такі показники:`,
      },

      {
        type: 'list',
        style: 'bullet',
        items: [
          'невисока видимість сайту у пошуку;',
          'побудувати сайт під реальні пошукові запити;',
          'швидше отримати результат;',
          'Фахівці Elit-Web повністю заглиблюються у проєкт, вивчають особливості бізнесу, цільову аудиторію, конкурентів і ринок. Такий глибокий аналіз дозволяє розробити індивідуальну стратегію пошукового просування, що максимально відповідає потребам. І це гарантія того, що зусилля та кошти будуть спрямовані на найрезультативніші канали, до того ж без зайвих витрат.',
        ],
      },

      {
        type: 'paragraph',
        text: `Якщо краулер витрачає час на непотрібні, повторювані або технічні сторінки, корисні розділи можуть залишитися поза увагою та не потрапити до індексації. Саме тому важливо керувати краулінговим бюджетом.`,
      },

      {
        type: 'ctaForm',
        title: 'ОТРИМАТИ ЧЕК ЛИСТ З ПРОСУВАННЯ ВАШОГО САЙТУ В ІНТЕРНЕТІ',
        buttonText: 'Відправити',
        variant: 'dark',
      },

      {
        type: 'heading',
        level: 2,
        text: 'Що таке SEO',
        anchor: 'sho-take-seo',
      },

      {
        type: 'paragraph',
        text: 'SEO-просування сайту — це процес, робота над яким допомагає ресурсу займати вищі позиції в пошуку. Простіше кажучи, це спосіб зробити так, щоб люди швидше знаходили ваш сайт, коли шукають потрібну їм інформацію. Усі роботи займають час і потребують системного підходу. Важливими є регулярність контролю та вміння адаптуватися під зміни алгоритмів. Щоб підвищити видимість сайту в пошукових системах, покращують тексти, структуру сторінок і швидкість завантаження, а також роблять ресурс зручним для користувачів і пошукових роботів.',
      },
      {
        type: 'paragraph',
        text: `Результати такої роботи не з'являються миттєво. Але вже через кілька місяців можна помітити зростання позицій і стабільний приплив трафіку. А головне, що ефект зберігається надовго, особливо, якщо ви продовжуєте розвивати сайт. Отже, пошукова оптимізація — це інвестиція, яка повертається у вигляді постійного збільшення кількості клієнтів і бізнесу в цілому.`,
      },

      {
        type: 'table',
        head: ['Назва SEO-послуги', 'Ціна', 'Уточнення за ціною'],
        rows: [
          ['SEO-оптимізація', 'включено', 'для сайту'],
          ['SEO-аудит', 'від $ 200', 'для сайту'],
          ['SEO-просування', 'від $ 750', 'на місяць'],
          ['SEO-просування', 'до $7 000', 'на місяць'],
          ['SEO-просування', 'до $50 000', 'на місяць'],
        ],
      },

      {
        type: 'heading',
        level: 2,
        text: 'Робота з краулінгом',
        anchor: 'sho-take-seo',
      },

      {
        type: 'paragraph',
        text: `Коли планують етапи seo-просування, то нерідко забувають про один із них — оптимізацію краулінгового бюджету. Річ у тім, що пошукова система не сканує весь сайт повністю щоразу. Відсіяти непотрібне допомагає спеціальна програма — краулер. Принцип її в тому, що вона читає код, аналізує структуру сайту та відправляє зібрану інформацію до пошукової системи. На основі цих даних Google вирішує, які сторінки показувати у пошуку та на яких позиціях.`,
      },

      {
        type: 'paragraph',
        text: `Якщо краулер витрачає час на непотрібні, повторювані або технічні сторінки, корисні розділи можуть залишитися поза увагою та не потрапити до індексації. Саме тому важливо керувати краулінговим бюджетом.`,
      },

      {
        type: 'paragraph',
        text: `Робота з краулінгом включає наступне:`,
      },

      {
        type: 'list',
        style: 'bullet',
        items: [
          'Налаштування robots.txt, де потрібно відзначити, які сторінки можна сканувати, а які краще пропустити, і карти сайту, яка підказує, які розділи пріоритетні для індексації.',
          'Аналіз у Google Search Console. Через цей інструмент можна зрозуміти, які сторінки були проскановані, а які — проігноровані, а також де виникають помилки.',
          'Видалення дублів і сторінок із помилками. Контент, що дублюється, — це зайве навантаження для краулера, а сторінки з різними помилками заважають скануванню і забирають час у пошукових роботів.',
        ],
      },

      {
        type: 'table',
        head: ['Назва SEO-послуги', 'Ціна', 'Ціна', 'Уточнення за ціною'],
        rows: [
          ['SEO-оптимізація', 'включено', 'включено', 'для сайту'],
          ['SEO-аудит', 'від $ 200', 'від $ 200', 'для сайту'],
          ['SEO-просування', 'від $ 750', 'від $ 750', 'на місяць'],
          ['SEO-просування', 'до $7 000', 'до $7 000', 'на місяць'],
        ],
      },

      {
        type: 'heading',
        level: 2,
        text: 'Що таке SEO',
        anchor: 'sho-take-seo',
      },

      {
        type: 'paragraph',
        text: 'SEO-просування сайту — це процес, робота над яким допомагає ресурсу займати вищі позиції в пошуку. Простіше кажучи, це спосіб зробити так, щоб люди швидше знаходили ваш сайт, коли шукають потрібну їм інформацію. Усі роботи займають час і потребують системного підходу. Важливими є регулярність контролю та вміння адаптуватися під зміни алгоритмів. Щоб підвищити видимість сайту в пошукових системах, покращують тексти, структуру сторінок і швидкість завантаження, а також роблять ресурс зручним для користувачів і пошукових роботів.',
      },
      {
        type: 'paragraph',
        text: `Результати такої роботи не з'являються миттєво. Але вже через кілька місяців можна помітити зростання позицій і стабільний приплив трафіку. А головне, що ефект зберігається надовго, особливо, якщо ви продовжуєте розвивати сайт. Отже, пошукова оптимізація — це інвестиція, яка повертається у вигляді постійного збільшення кількості клієнтів і бізнесу в цілому.`,
      },

      {
        type: 'table',
        head: ['Назва SEO-послуги', 'Ціна'],
        rows: [
          ['SEO-оптимізація', 'включено'],
          ['SEO-аудит', 'від $ 200'],
          ['SEO-просування', 'від $ 750'],
          ['SEO-просування', 'до $7 000'],
          ['SEO-просування', 'до $50 000'],
        ],
      },
    ],
  },
];

const allowedSlugs = blogCards.map((c) => c.href.split('/').pop()!);

function getPostBySlug(slug: string) {
  return blogCards.find((card) => card.href.endsWith(`/${slug}`));
}

export async function generateMetadata({ params }: Props): Promise<Metadata> {
  const post = getPostBySlug(params.slug);

  if (!post) {
    return { title: 'Стаття не знайдена' };
  }

  const baseUrl = process.env.NEXT_PUBLIC_SITE_URL ?? 'https://fullstack.com';

  const url = `${baseUrl}/${params.lang}/blog/${params.slug}`;

  return {
    title: `${post.title} | Blog`,
    description: post.description,
    openGraph: {
      title: post.title,
      description: post.description,
      type: 'article',
      url,
      images: [{ url: post.image }],
    },
  };
}

export function generateStaticParams() {
  const locales = i18n.locales;

  return locales.flatMap((lang) =>
    allowedSlugs.map((slug) => ({
      lang,
      slug,
    })),
  );
}

export default function BlogPostPage({ params }: Props) {
  const post = getPostBySlug(params.slug);

  if (!post) notFound();

  return (
    <article className="post-page">
      <PostHero
        title={post.title}
        image={post.image}
        imageAlt={post.imageAlt}
        date={post.date}
        readTime={post.readTime}
        views={post.views}
        tags={post.tags}
        lang={params.lang}
      />

      <div className="post-page__layout">
        <BudgetLeadFormContainer />
        <PostContent content={post.content} />
        <BlogSidebar />
      </div>
    </article>
  );
}
